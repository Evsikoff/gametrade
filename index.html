<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–Ω–∏–∂–Ω—ã–π –ø—Ä–æ–¥–∞–≤–µ—Ü</title>
    <link rel="stylesheet" href="styles.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&family=Playfair+Display:wght@700&display=swap"
        rel="stylesheet">
    <script src="https://yandex.ru/games/sdk/v2"></script>
</head>

<body>
    <div id="loading-overlay" class="loading-overlay visible">
        <div class="loading-card">
            <div class="loading-spinner"></div>
            <div class="loading-title">–ó–∞–≥—Ä—É–∑–∫–∞ –ö–Ω–∏–∂–Ω–æ–π –õ–∞–≤–∫–∏...</div>
            <div class="loading-subtitle" id="loading-status">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–∏—Å–∞–º –Ø–Ω–¥–µ–∫—Å–∞</div>
        </div>
    </div>
    <div id="game-container">
        <!-- Header with stats -->
        <header id="game-header">
            <div class="stat">
                <span class="stat-icon">üí∞</span>
                <span id="balance">0</span> ‚ÇΩ
            </div>
            <div class="stat">
                <span class="stat-icon">üìö</span>
                <span id="sold-unique">0</span>/50 —Ä–∞–∑–Ω—ã—Ö
            </div>
            <div class="stat">
                <span class="stat-icon">üìñ</span>
                <span id="sold-total">0</span>/200 –≤—Å–µ–≥–æ
            </div>
            <div class="stat">
                <span class="stat-icon">üìÖ</span>
                –î–µ–Ω—å&nbsp;<span id="day-number">1</span>
            </div>
        </header>

        <!-- Customer panel -->
        <div id="customer-panel">
            <div id="customer-avatar">üßë</div>
            <div id="customer-speech">
                <p id="customer-request">–ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –¥–µ–Ω—å" —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω</p>
            </div>
            <div id="customer-counter">
                –ü–æ–∫—É–ø–∞—Ç–µ–ª—å: <span id="current-customer">0</span>/<span id="total-customers">0</span>
            </div>
        </div>

        <!-- Shelf with Books -->
        <div id="shelf-container">
            <div id="shelf">
                <!-- 9 slots will be generated by JS -->
            </div>
        </div>

        <!-- Action buttons -->
        <div id="action-buttons">
            <button id="btn-start-day" class="btn btn-primary">üåÖ –ù–∞—á–∞—Ç—å –¥–µ–Ω—å</button>
            <button id="btn-skip-customer" class="btn btn-secondary" style="display:none;">‚è≠Ô∏è –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
            <button id="btn-end-day" class="btn btn-secondary" style="display:none;">üåô –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–µ–Ω—å</button>
            <button id="btn-new-game" class="btn btn-danger">üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
        </div>

        <!-- Book detail modal -->
        <div id="film-modal" class="modal hidden">
            <div class="modal-content">
                <img id="modal-cover" src="" alt="–û–±–ª–æ–∂–∫–∞">
                <div class="modal-info">
                    <h2 id="modal-title-ru"></h2>
                    <h3 id="modal-author"></h3>
                    <p id="modal-description" class="modal-description"></p>
                    <p id="modal-genres"></p>
                    <p id="modal-price"></p>
                </div>
                <div class="modal-actions">
                    <button id="btn-offer" class="btn btn-primary">–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å</button>
                    <button id="btn-close-modal" class="btn btn-secondary">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- Evening shop modal -->
        <div id="shop-modal" class="modal hidden">
            <div class="modal-content shop-content">
                <h2>üåô –ó–∞–∫—É–ø–∫–∞ –∫–Ω–∏–≥</h2>
                <p>–í–∞—à –±–∞–ª–∞–Ω—Å: <span id="shop-balance">500</span> ‚ÇΩ | –ü—É—Å—Ç—ã—Ö —Å–ª–æ—Ç–æ–≤: <span id="empty-slots">0</span></p>
                <div id="shop-filters">
                    <select id="filter-genre">
                        <option value="">–í—Å–µ –∂–∞–Ω—Ä—ã</option>
                    </select>
                    <select id="filter-price">
                        <option value="">–õ—é–±–∞—è —Ü–µ–Ω–∞</option>
                        <option value="cheap">–î–µ—à—ë–≤—ã–µ (50-200 ‚ÇΩ)</option>
                        <option value="medium">–°—Ä–µ–¥–Ω–∏–µ (250-400 ‚ÇΩ)</option>
                        <option value="expensive">–î–æ—Ä–æ–≥–∏–µ (450+ ‚ÇΩ)</option>
                    </select>
                </div>
                <div id="shop-catalog"></div>
                <button id="btn-close-shop" class="btn btn-primary">‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–∫—É–ø–∫—É</button>
            </div>
        </div>

        <!-- Victory modal -->
        <div id="victory-modal" class="modal hidden">
            <div class="modal-content victory-content">
                <h1>üèÜ –í–ï–õ–ò–ö–ê–Ø –ë–ò–ë–õ–ò–û–¢–ï–ö–ê –°–û–ó–î–ê–ù–ê!</h1>
                <p id="victory-message"></p>
                <button id="btn-restart" class="btn btn-primary">üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
            </div>
        </div>

        <!-- Confirmation modal -->
        <div id="confirm-modal" class="modal hidden">
            <div class="modal-content confirm-content">
                <h2>‚ö†Ô∏è –ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É?</h2>
                <p id="confirm-message">–í—ã —É–≤–µ—Ä–µ–Ω—ã? –í–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω!</p>
                <div class="modal-actions">
                    <button id="btn-confirm-yes" class="btn btn-danger">–î–∞, –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                    <button id="btn-confirm-no" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>
    </div>

    <script src="data/books.js"></script>
    <script src="data/requests.js"></script>

    <script src="app.js"></script>
</body>

</html>